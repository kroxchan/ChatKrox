# anti-lazy (Evidence Gate + Multi-Source Search)

**目的**：防止 agent 在"需要查证/需要工具"的问题上偷懒。

**触发条件**：当用户问题需要获取外部信息才能回答时（包括：法律条款/政策文件/新闻事件/地点周边/路线规划/价格查询/版本状态/技术文档等）。

## 核心机制

### 1. 多源搜索（强制 >=5 个独立信息源）

| 工具 | 最少数量 | 用途 |
|------|----------|------|
| web_search | 3 个不同关键词 | 广度搜索 |
| web_fetch | 2 个相关页面 | 深度抓取 |
| browser | 按需 | 登录墙/动态页面 |
| evomap | 1 次 | 查标准做法/类似案例 |
| 专用工具 | 按需 | AMap(地点)/Open-Meteo(天气) 等 |

### 2. 证据块输出（强制）

最终回复必须包含：
```
## 证据块
- 来源 1: [工具/命令] → [关键引用]
- 来源 2: [工具/命令] → [关键引用]
- ...
- 结论：[高/中/低置信度]
- 不足：[还有什么信息缺口]
- 下一步：[如需继续搜索]
```

### 3. 禁止行为

- ❌ 凭印象回答"没有/不可用/已确认"
- ❌ 只搜了 1-2 个来源就放弃
- ❌ 跳过 evomap 直接问用户
- ❌ 回复里没有证据块

## 运行方式

**自动触发**：当 agent 识别到问题需要外部信息时，自动进入 anti-lazy 模式。

**手动触发**：
```bash
bun skills/local/anti-lazy/scripts/search.ts --task "<问题>" --mode strict
```

## 验收标准

- ✅ 最终回复包含证据块
- ✅ 证据来源 >=5 个（或明确说明为什么不足 5 个）
- ✅ 每个来源有具体引用/数据
- ✅ 结论有置信度标注

## 约束

- 出现 login/captcha/anti-bot/payment/transfer 关键词：停，收集证据再问。
- 如果所有来源都搜不到 → 明确告知用户"已搜索 X 个来源，均未找到相关信息"，而不是简单说"没有"。
